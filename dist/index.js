"use strict";function l(o){if(!o.length){ return[]; }var e=new Set(o.map(function (t){ return t.dataset.tooltip; }));return Array.from(e).map(function (t){var s=o.find(function (c){ return c.dataset.tooltip===t; });return{executor:t,avatar:s.src}})}var n=/*@__PURE__*/(function () {
	function n () {}

	var prototypeAccessors = { filterContainer: { configurable: true },executionerFilterButtons: { configurable: true },allIssues: { configurable: true } };

	n.prototype.createExecutorStyle = function createExecutorStyle (){var e=document.createElement("style");e.innerHTML=".executor-filter.is-currently-selected { border: 5px solid limegreen !important; } .executor-filter {border: 5px solid white !important; cursor: pointer}",document.getElementsByTagName("head")[0].appendChild(e)};n.prototype.resetExecutorFilters = function resetExecutorFilters (){var e=document.querySelector(".ghx-avatar-img.executor-filter.is-currently-selected");this.clearExecutorFilters();var r=l(this.getExecutionersAvatarElements());if(this.appendExecutorFiltersToPage(r),e){var t=document.getElementById(e.id);t&&t.click()}};n.prototype.getExecutionersAvatarElements = function getExecutionersAvatarElements (){return Array.from(document.querySelectorAll(".ghx-avatar-img"))};n.prototype.showAllIssues = function showAllIssues (){this.allIssues.forEach(function (e){ return e.style.display=""; })};n.prototype.showIssuesOnlyForExecutor = function showIssuesOnlyForExecutor (e){this.allIssues.forEach(function (r){var t=r.querySelector(("[data-tooltip=\"" + (e.executor) + "\"]"));r.style.display=t?"":"none"})};n.prototype.appendExecutorFiltersToPage = function appendExecutorFiltersToPage (e){
var this$1 = this;
var r=this.filterContainer;e.forEach(function (t){var s=this$1.createExecutorIcon(t);r.appendChild(s)})};n.prototype.clearExecutorFilters = function clearExecutorFilters (){var e=this.filterContainer;Array.from(e.querySelectorAll("dd")).filter(function (r){ return !!r.querySelector("img.executor-filter"); }).forEach(function (r){ return r.remove(); })};n.prototype.createExecutorIcon = function createExecutorIcon (e){
var this$1 = this;
var r=document.createElement("dd"),t=document.createElement("img");return t.src=e.avatar,t.id=e.avatar,t.classList.add("ghx-avatar-img"),t.classList.add("executor-filter"),t.title=e.executor.replace(/^Исполнитель: /,""),t.onclick=function (){var s=t.classList.contains("is-currently-selected");this$1.executionerFilterButtons.forEach(function (c){ return c.classList.remove("is-currently-selected"); }),s?i.showAllIssues():(i.showIssuesOnlyForExecutor(e),t.classList.add("is-currently-selected"))},r.appendChild(t),r};prototypeAccessors.filterContainer.get = function (){return document.getElementById("js-work-quickfilters")};prototypeAccessors.executionerFilterButtons.get = function (){return Array.from(document.querySelectorAll("img.executor-filter"))};prototypeAccessors.allIssues.get = function (){return Array.from(document.querySelectorAll(".js-issue,.ghx-parent-group.ghx-away.js-fake-parent"))};

	Object.defineProperties( n.prototype, prototypeAccessors );

	return n;
}()),i=new n;function a(){i.createExecutorStyle();var o=document.getElementById("ghx-work"),e={attributes:!1,childList:!0,subtree:!0},r=function (s){ return s.forEach(function (c){c.type==="childList"&&c.addedNodes.length&&i.resetExecutorFilters()}); };new MutationObserver(r).observe(o,e)}(function(){a()})();
